(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{271:function(e,t,a){e.exports=a(631)},343:function(e,t){},613:function(e,t){},615:function(e,t){},629:function(e,t,a){},631:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(75),o=a.n(s),c=a(3),l=a(4),i=a(6),m=a(5),u=a(7),d=a(636),h=a(634),p=a(635),b=a(8),g=a.n(b),E=a(14),v=a(18),f=a(13),N=a(632),y=Object(f.withAuth)(function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).checkAuthentication=Object(E.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.auth.isAuthenticated();case 2:(t=e.sent)!==a.state.authenticated&&a.setState({authenticated:t});case 4:case"end":return e.stop()}},e,this)})),a.state={authenticated:null},a.checkAuthentication(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"render",value:function(){var e=this;if(null===this.state.authenticated)return null;var t=this.state.authenticated?r.a.createElement("div",{className:"btn-group"},r.a.createElement(N.a,{to:"/profile",className:"btn btn-default"},"Profile"),r.a.createElement("a",{className:"btn btn-primary",href:"javascript:void(0)",onClick:function(){return e.props.auth.logout()}},"Logout")):r.a.createElement("div",{className:"btn-group"},r.a.createElement(N.a,{to:"/register",className:"btn btn-danger"},"Register"),r.a.createElement("a",{className:"btn btn-primary",href:"javascript:void(0)",onClick:function(){return e.props.auth.login()}},"Login"));return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-danger mb-2"},r.a.createElement("div",{className:"container"},r.a.createElement(N.a,{className:"navbar-brand",to:"/"},r.a.createElement("h4",null,"Dakata Language Hub")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{className:"nav-link",to:"/translate"},"Translator")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{className:"nav-link",to:"/maps"},"Maps")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{className:"nav-link",to:"/forum"},"Forum")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{className:"nav-link",to:"/about"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{className:"nav-link",to:"/contact"},"Contact"))),r.a.createElement("div",{className:"btn-group ml-auto",role:"group","aria-label":"Authentication"},t))))}}]),t}(n.Component)),w=function(e){return r.a.createElement("div",{className:"layout"},r.a.createElement(y,null),r.a.createElement("div",{className:"container my-5 mx-auto"},e.children))},k=a(21),O=a.n(k),j="SET_POSTS",x="SET_LOADING";function C(){return function(e){setTimeout(Object(E.a)(g.a.mark(function t(){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O()({url:"4000/api/posts",method:"get"}).then(function(t){e({type:x,payload:!1}),e({type:j,payload:t.data})}).catch(function(e){e&&console.log({err:e})});case 1:case"end":return t.stop()}},t,this)})),3e3)}}var S=a(57),T=a(77),A=a.n(T);function D(e){var t=e.posts,a=t._id,n=t.slug,s=t.title,o=t.author,c=t.createdAt,l=t.description;return r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4 d-flex align-items-stretch"},r.a.createElement("div",{className:"card mb-3 "},r.a.createElement("div",{className:"card-body"},r.a.createElement(N.a,{to:"/blog/".concat(n),className:"text-dark",style:{textDecoration:"none"}},r.a.createElement("h5",{className:"card-title mb-3"},s)),r.a.createElement("h6",{className:"card-subtitle mb-3 text-muted"},"By ",o," on ",A()(c,"Do MMMM YYYY")),r.a.createElement("p",{className:"card-text mb-4"},String(l).substr(0,100)+"..."),r.a.createElement("br",null),r.a.createElement(N.a,{style:{position:"absolute",left:"15px",bottom:"15px"},to:"/blog/".concat(a,"/").concat(n),className:"card-link btn btn-outline-danger"},"Read More"))))}var I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getPosts=function(){O()({url:"/api/posts",method:"get"}).then(function(e){a.setState({posts:Object(v.a)(a.state.posts).concat(Object(v.a)(e.data))})}).catch(function(e){return console.log({err:e})})},a.login=Object(E.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.login("/");case 1:case"end":return e.stop()}},e,this)})),a.logout=Object(E.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.logout("/");case 1:case"end":return e.stop()}},e,this)})),a.state={authenticated:null,posts:[],loading:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(E.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.isAuthenticated();case 2:(t=e.sent)!==this.state.authenticated&&this.setState({authenticated:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.checkAuthentication(),this.props.setPosts(),console.log(this.props)}},{key:"render",value:function(){return null===this.state.authenticated?null:r.a.createElement(w,null,r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-6"},r.a.createElement("div",{className:"headline-text mt-2",style:{overflow:"hidden"}},r.a.createElement("h1",{className:"text-dark hero-text",style:{fontSize:"4rem"}},"Where Communication Happens"),r.a.createElement("p",{className:"lead"},"When you and your friends need to kick off a conversation, translate between languages, read blog posts, share files and resources, observe maps and more"," ",r.a.createElement("strong",{className:"text-danger",title:"Dakada Language Hub"},"DLH")," ","has you covered."),r.a.createElement("div",{className:"register my-3"},r.a.createElement(N.a,{className:"btn btn-danger btn-lg mb-3",to:"/register"},"Create My Account"),r.a.createElement("p",null,"Already have an account ?"," ",r.a.createElement(N.a,{to:"/login",className:""},"Login"))))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-6 text-center"},r.a.createElement("div",{className:"headline-image mt-5"},r.a.createElement("img",{className:"img-responsive mt-2",src:"/showcase.png",alt:"showcase",style:{width:"400px",maxWidth:"100%"}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mx-auto"},r.a.createElement("div",{className:"heading-text mx-auto text-center mt-4"},r.a.createElement("h1",{className:"my-5 pb-2 text-dark text-center",style:{borderBottom:"4px solid #dc3545",display:"inline-block"}},"Latest Blog Posts")),r.a.createElement("hr",null)),this.props.posts.length>0?this.props.posts.map(function(e){return r.a.createElement(D,{key:e._id,posts:e})}):r.a.createElement("div",{className:"text-center"},"Loading...")))}}]),t}(n.Component);var U=Object(S.b)(function(e){return{posts:e.posts,isLoading:e.isLoading}},{setPosts:C})(Object(f.withAuth)(I)),M=a(22),P=a(160),L=a.n(P),F=a(265),q=function(e){return r.a.createElement("div",{className:"MessageList"},e.messages.map(function(e,t){return r.a.createElement("div",{className:"card card-body mb-2",key:t},r.a.createElement("div",{className:"user-name"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("p",null,r.a.createElement("strong",null,"@",e.senderId)," "," ",r.a.createElement("small",{className:"text-muted"},Object(F.distanceInWords)(e.updatedAt,(new Date).toISOString())))),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"ml-auto float-right text-danger"},"3 comments")))),r.a.createElement("hr",null),r.a.createElement("div",{className:"user-message",style:{width:"100%"}},r.a.createElement("p",{className:"lead"},e.text),e.attachment?r.a.createElement("img",{style:{maxWidth:"100%"},className:"img-responsive",src:e.attachment.link,alt:e.attachment.type}):null))}))},_=Object(f.withAuth)(function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).sendMessage=function(e){a.state.currentUser.sendMessage({text:e,roomId:a.state.currentRoom.id})},a.onChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.onFileChanged=function(e){var t=e.target.files[0];a.setState({attachment:t})},a.onSubmit=function(e){e.preventDefault(),null===a.state.attachment?(a.state.currentUser.sendMessage({text:a.state.text,roomId:a.state.currentRoom.id}),a.setState({text:""})):(a.state.currentUser.sendMessage({text:a.state.text,attachment:{file:a.state.attachment,name:(new Date).toDateString()},roomId:a.state.currentRoom.id}),a.setState({text:"",attachment:null}))},a.logout=Object(E.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.logout("/");case 1:case"end":return e.stop()}},e,this)})),a.state={currentUserName:"",currentUserEmail:"",currentUser:{},currentRoom:{},messages:[],text:"",attachment:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("okta-token-storage"));this.setState({currentUserName:t.idToken.claims.name,currentUserEmail:t.idToken.claims.email},function(){new L.a.ChatManager({instanceLocator:"v1:us1:3b00ed07-103c-4828-8fd7-271bb696c15d",userId:e.state.currentUserName,tokenProvider:new L.a.TokenProvider({url:"/api/chatkitAuthenticate"})}).connect().then(function(t){return console.log(t),e.setState({currentUser:t}),t.subscribeToRoom({roomId:19420332,messageLimit:100,hooks:{onNewMessage:function(t){e.setState({messages:[t].concat(Object(v.a)(e.state.messages))}),console.log(t)}}})}).then(function(t){e.setState({currentRoom:t}),console.log(e.state)}).catch(function(e){console.log({error:e})})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",id:"exampleModal"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"What is happening"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("textarea",{className:"form-control",value:this.state.text,onChange:this.onChange,placeholder:"Type to send message",name:"text"}),r.a.createElement("input",{type:"file",id:"file",className:"form-control",onChange:this.onFileChanged}),r.a.createElement("input",{type:"submit",className:"btn btn-danger btn-block mt-2",value:"Post"})))))),r.a.createElement(w,null,r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-lg-8 mx-auto"},r.a.createElement(q,{messages:this.state.messages}))),r.a.createElement("nav",{className:"navbar navbar-light fixed-bottom pb-3",style:{background:"transparent"}},r.a.createElement("div",{className:"container"},r.a.createElement("button",{type:"button",className:"btn btn-danger btn-rounded btn-lg",id:"post",style:{display:"block",margin:"0 0 0 auto"},"data-toggle":"modal","data-target":"#exampleModal"},"Post")))))}}]),t}(n.Component)),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={english:"",ibibio:"",from:"",to:"",isloading:!1,endpoint:"",error:""},a.onInputChanged=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.getTranslationData=function(e,t,n){O.a.get(a.state.endpoint).then(function(e){if(console.log(e.data),"ok"===e.data.result)if(n){var t=e.data.tuc[0].phrase.text;a.setState({ibibio:t,isloading:!1})}else{console.log(e.data);var r=e.data.tuc[0].phrase.text;a.setState({english:r,isloading:!1})}}).catch(function(e){e&&a.setState({error:"Could not find word in the dictionary",isloading:!1})})},a.translateTo=function(e){"ibibio"===e&&(""===a.state.english&&a.setState({error:"Input field cannot be empty",isloading:!1},function(){return!1}),a.setState({from:"eng",to:"ibb",ibibio:"",isloading:!0,endpoint:"https://cors-anywhere.herokuapp.com/https://glosbe.com/gapi/translate?from=eng&dest=ibb&format=json&phrase=".concat(a.state.english.toLocaleLowerCase(),"&pretty=true")},function(){return a.getTranslationData(a.state.from,a.state.to,!0)})),"english"===e&&(""===a.state.ibibio&&a.setState({error:"Input field cannot be empty",isloading:!1},function(){return!1}),a.setState({from:"ibb",to:"eng",english:"",isloading:!0,endpoint:"https://cors-anywhere.herokuapp.com/https://glosbe.com/gapi/translate?from=ibb&dest=eng&format=json&phrase=".concat(a.state.ibibio.toLocaleLowerCase(),"&pretty=true")},function(){return a.getTranslationData(a.state.from,a.state.to,!1)}))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={fontSize:{fontSize:"30px"}},a=this.state,n=a.english,s=a.ibibio,o=a.isloading,c=a.error;return r.a.createElement(w,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",null,"Translate")),r.a.createElement("div",{className:"col-6 text-right float-right"},!0===o?r.a.createElement("div",null,console.log("loading")):"")),r.a.createElement("div",{className:"row"},""!==c?r.a.createElement("div",{className:"alert alert-danger mx-auto",style:{width:"94%"}},c):""),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"lead"},"English")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{onClick:function(t){return e.translateTo("ibibio")},className:"btn btn-primary"},"translate")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("textarea",{required:!0,rows:"3",name:"english",className:"form-control",value:n,onChange:function(t){return e.onInputChanged(t)},style:t.fontSize})))),r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"lead"},"ibibio")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{onClick:function(t){return e.translateTo("english")},className:"btn btn-primary"},"translate")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("textarea",{required:!0,rows:"3",name:"ibibio",className:"form-control",value:s,onChange:function(t){return e.onInputChanged(t)},style:t.fontSize}))))),r.a.createElement("div",{className:"row text-center mt-3"}))}}]),t}(n.Component),B=a(633),W=a(266),Y=a.n(W),z=(a(497),a(499),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=o.a.findDOMNode(this);this.widget=new Y.a({baseUrl:this.props.baseUrl,logo:"logo.png"}),this.widget.renderEl({el:e},this.props.onSuccess,this.props.onError)}},{key:"componentWillUnMount",value:function(){this.widget.remove()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component)),H=Object(f.withAuth)(function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSuccess=function(e){return a.props.auth.redirect({sessionToken:e.session.token})},a.onError=function(e){console.log("Error loggin in ".concat(e))},a.state={authenticated:null},a.checkAuthentication(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(E.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.isAuthenticated();case 2:(t=e.sent)!==this.state.authenticated&&this.setState({authenticated:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.checkAuthentication()}},{key:"render",value:function(){return null===this.state.authenticated?null:this.state.authenticated?r.a.createElement(B.a,{to:{pathname:"/forum"}}):r.a.createElement(z,{baseUrl:this.props.baseUrl,onSuccess:this.onSuccess,onError:this.onError})}}]),t}(n.Component)),J=a(56),V=a(157),G=a.n(V),$={url:"https://dev-107219.oktapreview.com"},K=Object(f.withAuth)(function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=Object(J.a)({},a.state);fetch("/api/newUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){400===e.status&&a.setState({errors:e.errorCauses}),a.createNewChatkitUser(a.state.displayName,a.state.email),a.oktaAuth.signIn({username:a.state.email,password:a.state.password}).then(function(e){a.setState({sessionToken:e.sessionToken})})}).catch(function(e){return console.log({err:e})})},a.createNewChatkitUser=function(e,t){fetch("/api/newChatkitUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,username:t})}).then(function(e){a.setState({currentUsername:a.state.email,currentScreen:"chatScreen"}),console.log({response:e})}).catch(function(e){console.log({error:e})})},a.state={firstName:"",lastName:"",displayName:"",email:"",password:"",sessionToken:null,errors:[],currentUsername:"",currentScreen:""},a.oktaAuth=new G.a({url:$.url}),a.checkAuthentication(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(E.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.getIdToken();case 2:(t=e.sent)&&this.setState({sessionToken:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"render",value:function(){return this.state.sessionToken?(this.props.auth.redirect({sessionToken:this.state.sessionToken}),null):r.a.createElement("div",{className:"row my-5"},r.a.createElement("div",{className:"col-xs-12 col sm-10 col-md-8 col-lg-6 mx-auto"},r.a.createElement("div",{className:"card card-body mx-3"},0!==this.state.errors.length?r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",null,this.state.errors.map(function(e,t){return r.a.createElement("li",{key:t},e.errorSummary)}))):null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",name:"firstName",id:"firstName",onChange:this.handleChange,placeholder:"What is your First Name",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastName",id:"lastName",onChange:this.handleChange,placeholder:"What is your Last Name",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"displayName"},"Display Name"),r.a.createElement("input",{type:"text",name:"displayName",id:"displayName",onChange:this.handleChange,placeholder:"Choose a display name",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:this.handleChange,placeholder:"Type your Email Address",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:this.handleChange,placeholder:"Type a Password",className:"form-control",required:!0})),r.a.createElement("input",{type:"submit",value:"Signup",className:"btn btn-primary btn-block btn-lg"})))))}}]),t}(n.Component)),Q=Object(f.withAuth)(function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getCurrentUser=Object(E.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.auth.getUser().then(function(e){return a.setState({user:e})});case 1:case"end":return e.stop()}},e,this)})),a.state={user:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentUser()}},{key:"render",value:function(){return this.state.user?r.a.createElement("section",{className:"user-profile"},r.a.createElement("h1",null,"User Profile"),r.a.createElement("div",null,r.a.createElement("label",null,"Name:"),r.a.createElement("span",null,this.state.user.name))):null}}]),t}(r.a.Component)),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state;t.username;if(t.passwordOne!==t.passwordTwo)return a.setState({error:"Passwords do not match"},function(){a.setState({username:"",passwordOne:"",passwordTwo:""})}),!1;console.log(a.state)},a.state={username:"",passwordOne:"",passwordTwo:"",error:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.passwordOne,n=e.passwordTwo,s=e.error;return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 col-lg-4 mx-auto"},r.a.createElement("form",{className:"mt-5 px-2",onSubmit:this.handleSubmit},null!==s?r.a.createElement("div",{className:"alert alert-danger"},s):"",r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter Your Username or email",value:t,className:"form-control",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"passwordOne",placeholder:"Enter Your password",value:a,className:"form-control",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"passwordTwo",placeholder:"Enter Your password",value:n,className:"form-control",onChange:this.handleChange,required:!0})),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary btn-block btn-lg"}))))}}]),t}(n.Component),Z=a(267),ee=a.n(Z),te=(a(602),{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"],["code-block"]]},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","link","image","video","code-block"]}),ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isCreateView:!0,title:"",author:"",description:"",content:"",slug:"",posts:[]},a.onInputChange=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.onContentInputChange=function(e){a.setState({content:e})},a.onSubmitPost=function(e){e.preventDefault(),a.setState({slug:a.state.title.trim().toLowerCase().split(" ").join("-")},function(){var e=a.state,t=e.title,n=e.author,r=e.description,s=e.content,o=e.slug;O()({url:"api/posts",method:"post",data:{title:t,author:n,description:r,content:s,slug:o}}).then(function(e){console.log(e.data)}).catch(function(e){return console.log({err:e})}),a.setState({title:"",author:"",description:"",content:"",slug:""})})},a.toggleCreate=function(e){a.setState({isCreateView:e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;O()({url:"/api/posts",method:"get"}).then(function(t){e.setState({posts:Object(v.a)(e.state.posts).concat(Object(v.a)(t.data))})}).catch(function(e){return console.log({err:e})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin-home"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-danger",style:{borderBottom:"1px solid #f00"}},r.a.createElement("div",{className:"container"},r.a.createElement(N.a,{className:"navbar-brand",to:"/"},r.a.createElement("h4",null,r.a.createElement("strong",null,"DLH")," ",r.a.createElement("em",{style:{fontSize:"1.2rem"}},"Dashboard"))),r.a.createElement("div",{className:"btn-group ml-auto",role:"group","aria-label":"Authentication"},r.a.createElement(N.a,{to:"/admin/logout",className:"btn btn-danger"},"Logout")))),r.a.createElement("header",{className:"content bg-danger"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row py-2"},r.a.createElement("ul",{className:"nav justify-content-center mx-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link active text-light btn btn-danger",onClick:function(){return e.toggleCreate(!0)}},"New")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link text-light btn btn-danger",onClick:function(){return e.toggleCreate(!1)}},"Posts ",r.a.createElement("div",{className:"badge badge-light"},this.state.posts.length>0?this.state.posts.length:null))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{to:"/",className:"nav-link text-light btn btn-danger"},"Home")))))),r.a.createElement("main",{className:"main-content"},r.a.createElement("div",{className:"container"},this.state.isCreateView?r.a.createElement("div",{className:"create",style:{marginBottom:100}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",{className:"mt-3"},"Create a New Blog Post"),r.a.createElement("div",{className:"card card-body my-3"},r.a.createElement("form",{onSubmit:this.onSubmitPost},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",className:"form-control",placeholder:"Type blog post title here",required:!0,onChange:this.onInputChange,value:this.state.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Author"),r.a.createElement("input",{type:"text",id:"author",className:"form-control",placeholder:"Type blog post author here",required:!0,onChange:this.onInputChange,value:this.state.author})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Meta Description"),r.a.createElement("textarea",{id:"description",className:"form-control",placeholder:"Type meta description here",required:!0,onChange:this.onInputChange,value:this.state.description})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement(ee.a,{value:this.state.content,placeholder:"Type Post Content",onChange:function(t){return e.onContentInputChange(t)},formats:te.formats,modules:te.modules,style:{height:200}})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Publish",className:"btn btn-danger btn-block btn-lg mt-5 mb-3"})))))):r.a.createElement("div",{className:"manage"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Author"),r.a.createElement("th",{scope:"col"},"Action"))),r.a.createElement("tbody",null,0!==this.state.posts.length?this.state.posts.map(function(e,t){return r.a.createElement("tr",{key:e.title},r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.author),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{"data-id":e._id,id:e._id,className:"btn btn-primary"},"Edit"),r.a.createElement("button",{"data-id":e._id,id:e._id,className:"btn btn-danger"},"Delete"))))}):null))))))}}]),t}(n.Component),ne=a(268),re=a.n(ne),se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).findPostById=function(e){O()({url:"/api/posts/".concat(e),method:"get"}).then(function(e){a.setState({posts:Object(v.a)(a.state.posts).concat([e.data])})}).catch(function(e){return console.log({err:e})})},a.state={id:"",posts:[],slug:"",currentPost:{}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listen=this.props.history.listen(function(e,t){console.log(e,t)}),this.props.setPosts();var t=this.props.match.params.slug,a=this.props.match.params.id;this.findPostById(a),this.setState({id:a,slug:t},function(){console.log(e.state)})}},{key:"render",value:function(){return r.a.createElement(w,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-lg-8 mx-auto"}),this.state.posts.length>0?this.state.posts.map(function(e){return r.a.createElement("div",{className:"row px-5",key:e.slug},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-8 mx-auto"},r.a.createElement(N.a,{to:"/",className:"btn btn-outline-danger mb-3"},"\u2190 Back Home"),r.a.createElement("br",null),r.a.createElement("h1",{className:"mb-3"},e.title),r.a.createElement("div",{className:"mb-3"},r.a.createElement("em",{className:"text-muted"},e.description)),r.a.createElement("div",{className:"mb-4 text-muted"},"By ",r.a.createElement("span",{className:"text-danger"},e.author)," |"," ",A()(e.createdAt,"Do MMMM YYYY")),r.a.createElement("div",{className:"lead"},re()(e.content))))}):r.a.createElement("p",null,"loading...")))}}]),t}(n.Component);var oe=Object(S.b)(function(e){return{posts:e.posts,isLoading:e.isLoading}},{setPosts:C})(se),ce=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 mx-auto text-center"},r.a.createElement("h1",{className:"mt-5"},"THIS SECTION IS UNDER CONSTRUCTION..."))))}}]),t}(n.Component);function le(e){e.history.push("/login")}var ie=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(f.Security,{issuer:"https://dev-107219.oktapreview.com/oauth2/default",client_id:"0oah72j1c4mEWzBVu0h7",redirect_uri:window.location.origin+"/implicit/callback",onAuthRequired:le},r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:U}),r.a.createElement(f.SecureRoute,{exact:!0,path:"/forum",component:_}),r.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(H,{baseUrl:"https://dev-107219.oktapreview.com"})}}),r.a.createElement(p.a,{path:"/implicit/callback",component:f.ImplicitCallback}),r.a.createElement(p.a,{path:"/register",component:K}),r.a.createElement(p.a,{path:"/translate",component:R}),r.a.createElement(f.SecureRoute,{path:"/profile",component:Q}),r.a.createElement(p.a,{path:"/admin/login",component:X}),r.a.createElement(p.a,{path:"/admin/home",component:ae}),r.a.createElement(p.a,{exact:!0,path:"/blog/:id/:slug",component:oe}),r.a.createElement(p.a,{exact:!0,path:"/maps",component:ce})))))}}]),t}(n.Component);a(629),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(269),ue=a(36),de=a(270),he="SET_POSTS",pe="GET_POSTS";var be="SET_LOADING";var ge=Object(ue.combineReducers)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case pe:return Object(J.a)({},e);case he:return-1===e.findIndex(function(e){return e._id===t.payload._id})?Object(v.a)(e).concat(Object(v.a)(t.payload)):e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case be:return Object(J.a)({},e,{isLoading:t.payload});default:return e}}});a.d(t,"store",function(){return Ee});var Ee=Object(ue.createStore)(ge,{posts:[],isLoading:!0},Object(de.composeWithDevTools)(Object(ue.applyMiddleware)(me.a)));o.a.render(r.a.createElement(S.a,{store:Ee},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[271,2,1]]]);
//# sourceMappingURL=main.0f31fdd9.chunk.js.map